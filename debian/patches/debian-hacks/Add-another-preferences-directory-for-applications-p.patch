From: Mike Hommey <glandium@debian.org>
Date: Sat, 21 Jun 2008 03:09:21 +0200
Subject: Add another preferences directory for applications:
 preferences/syspref

This can be used to symlink to /etc/ice*/pref.

---
 mozilla/toolkit/xre/nsXREDirProvider.cpp |    2 ++
 1 file changed, 2 insertions(+)

Index: icedove/mozilla/toolkit/xre/nsXREDirProvider.cpp
===================================================================
--- icedove.orig/mozilla/toolkit/xre/nsXREDirProvider.cpp	2012-10-13 14:27:22.778188968 +0530
+++ icedove/mozilla/toolkit/xre/nsXREDirProvider.cpp	2012-10-13 15:53:39.690429409 +0530
@@ -604,6 +604,7 @@
 }
 
 static const char *const kAppendPrefDir[] = { "defaults", "preferences", nsnull };
+static const char *const kAppendSysPrefDir[] = { "defaults", "syspref", nsnull };
 
 #ifdef DEBUG_bsmedberg
 static void
@@ -645,6 +646,7 @@
     LoadDirIntoArray(mXULAppDir, kAppendPrefDir, directories);
     LoadDirsIntoArray(mAppBundleDirectories,
                       kAppendPrefDir, directories);
+    LoadDirIntoArray(mXULAppDir, kAppendSysPrefDir, directories);
 
     rv = NS_NewArrayEnumerator(aResult, directories);
   }
