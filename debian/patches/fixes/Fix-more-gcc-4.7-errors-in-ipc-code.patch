From: Christoph Goehre <chris@sigxcpu.org>
Date: Thu, 10 May 2012 16:01:48 +0200
Subject: Fix more gcc-4.7 errors in ipc code

https://bugzilla.mozilla.org/show_bug.cgi?id=746526

---
 mozilla/ipc/chromium/src/base/file_util_linux.cc       |    3 +++
 mozilla/ipc/chromium/src/base/message_pump_libevent.cc |    3 +++
 mozilla/ipc/chromium/src/base/time_posix.cc            |    3 +++
 3 files changed, 9 insertions(+)

diff --git a/mozilla/ipc/chromium/src/base/file_util_linux.cc b/mozilla/ipc/chromium/src/base/file_util_linux.cc
index cca706f..171e44f 100644
--- a/mozilla/ipc/chromium/src/base/file_util_linux.cc
+++ b/mozilla/ipc/chromium/src/base/file_util_linux.cc
@@ -5,6 +5,9 @@
 #include "base/file_util.h"
 
 #include <fcntl.h>
+#if defined(ANDROID) || defined(OS_POSIX)
+#include <unistd.h>
+#endif
 
 #include <string>
 #include <vector>
diff --git a/mozilla/ipc/chromium/src/base/message_pump_libevent.cc b/mozilla/ipc/chromium/src/base/message_pump_libevent.cc
index 6194f79..9f31dbb 100644
--- a/mozilla/ipc/chromium/src/base/message_pump_libevent.cc
+++ b/mozilla/ipc/chromium/src/base/message_pump_libevent.cc
@@ -6,6 +6,9 @@
 
 #include <errno.h>
 #include <fcntl.h>
+#if defined(ANDROID) || defined(OS_POSIX)
+#include <unistd.h>
+#endif
 
 #include "eintr_wrapper.h"
 #include "base/logging.h"
diff --git a/mozilla/ipc/chromium/src/base/time_posix.cc b/mozilla/ipc/chromium/src/base/time_posix.cc
index 8d1a1d5..fd10901 100644
--- a/mozilla/ipc/chromium/src/base/time_posix.cc
+++ b/mozilla/ipc/chromium/src/base/time_posix.cc
@@ -4,6 +4,9 @@
 
 #include "base/time.h"
 
+#if defined(ANDROID) || defined(OS_POSIX)
+#include <unistd.h>
+#endif
 #ifdef OS_MACOSX
 #include <mach/mach_time.h>
 #endif
