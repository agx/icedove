From: Mike Hommey <mh@glandium.org>
Date: Sat, 19 Mar 2011 11:38:31 +0100
Subject: Fix FTBFS in IPC on Linux PPC

https://bugzilla.mozilla.org/show_bug.cgi?id=643112

---
 mozilla/ipc/chromium/Makefile.in              |    1 -
 mozilla/ipc/chromium/src/build/build_config.h |    2 +-
 2 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/mozilla/ipc/chromium/Makefile.in b/mozilla/ipc/chromium/Makefile.in
index bc1551d..65ecaad 100644
--- a/mozilla/ipc/chromium/Makefile.in
+++ b/mozilla/ipc/chromium/Makefile.in
@@ -246,7 +246,6 @@ ifdef OS_LINUX # {
 CPPSRCS += \
   atomicops_internals_x86_gcc.cc \
   base_paths_linux.cc \
-  data_pack.cc \
   file_util_linux.cc \
   file_version_info_linux.cc \
   idle_timer_none.cc \
diff --git a/mozilla/ipc/chromium/src/build/build_config.h b/mozilla/ipc/chromium/src/build/build_config.h
index 06ee253..f7293d9 100644
--- a/mozilla/ipc/chromium/src/build/build_config.h
+++ b/mozilla/ipc/chromium/src/build/build_config.h
@@ -57,7 +57,7 @@
 #define ARCH_CPU_ARMEL 1
 #define ARCH_CPU_32_BITS 1
 #define WCHAR_T_IS_UNSIGNED 1
-#elif defined(__ppc__)
+#elif defined(__ppc__) || defined(__powerpc__)
 #define ARCH_CPU_PPC 1
 #define ARCH_CPU_32_BITS 1
 #else
-- 
