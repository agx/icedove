From: Mike Hommey <mh@glandium.org>
Date: Fri, 12 Jul 2013 09:14:20 +0900
Subject: Bug 892366 - Support R_ARM_JUMP24 and R_ARM_CALL relocations in
 elfhack.

---
 mozilla/build/unix/elfhack/elfhack.cpp | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/mozilla/build/unix/elfhack/elfhack.cpp b/mozilla/build/unix/elfhack/elfhack.cpp
index 4eeaff6..875c7fb 100644
--- a/mozilla/build/unix/elfhack/elfhack.cpp
+++ b/mozilla/build/unix/elfhack/elfhack.cpp
@@ -16,6 +16,12 @@
 #ifndef R_ARM_V4BX
 #define R_ARM_V4BX 0x28
 #endif
+#ifndef R_ARM_CALL
+#define R_ARM_CALL 0x1c
+#endif
+#ifndef R_ARM_JUMP24
+#define R_ARM_JUMP24 0x1d
+#endif
 #ifndef R_ARM_THM_JUMP24
 #define R_ARM_THM_JUMP24 0x1e
 #endif
@@ -326,6 +332,8 @@ private:
             case REL(ARM, REL32):
                 apply_relocation<pc32_relocation>(the_code, buf, &*r, addr);
                 break;
+            case REL(ARM, CALL):
+            case REL(ARM, JUMP24):
             case REL(ARM, PLT32):
                 apply_relocation<arm_plt32_relocation>(the_code, buf, &*r, addr);
                 break;
