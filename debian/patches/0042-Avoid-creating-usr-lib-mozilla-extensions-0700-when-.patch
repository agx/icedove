From: Mike Hommey <mh@glandium.org>
Date: Mon, 11 Jan 2010 11:09:46 +0100
Subject: [PATCH] Avoid creating /usr/lib/mozilla/extensions 0700 when running as root

https://bugzilla.mozilla.org/show_bug.cgi?id=538929
---
 mozilla/toolkit/xre/nsXREDirProvider.cpp |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/mozilla/toolkit/xre/nsXREDirProvider.cpp b/mozilla/toolkit/xre/nsXREDirProvider.cpp
index 64b7306..c80d6f1 100644
--- a/mozilla/toolkit/xre/nsXREDirProvider.cpp
+++ b/mozilla/toolkit/xre/nsXREDirProvider.cpp
@@ -1243,9 +1243,6 @@ nsXREDirProvider::GetSystemExtensionsDirectory(nsILocalFile** aFile)
   NS_ENSURE_SUCCESS(rv, rv);
 #endif
 
-  rv = EnsureDirectoryExists(localDir);
-  NS_ENSURE_SUCCESS(rv, rv);
-
   NS_ADDREF(*aFile = localDir);
   return NS_OK;
 }
-- 
