From: Mike Hommey <mh@glandium.org>
Date: Sun, 24 Jan 2010 09:03:25 +0100
Subject: Remove generated files from js/src during make distclean

https://bugzilla.mozilla.org/show_bug.cgi?id=541770
---
 mozilla/js/src/Makefile.in |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

diff --git a/mozilla/js/src/Makefile.in b/mozilla/js/src/Makefile.in
index 3c2c2a7..380feef 100644
--- a/mozilla/js/src/Makefile.in
+++ b/mozilla/js/src/Makefile.in
@@ -365,6 +365,14 @@ endif
 #		$(srcdir)/trace-test.js
 #endif
 
+DIST_GARBAGE = config.cache config.log config.status \
+   config/autoconf.mk \
+   unallmakefiles js-config js-config.h mozilla-config.h
+
+distclean::
+	cat unallmakefiles | $(XARGS) rm -f
+	rm -f $(DIST_GARBAGE)
+
 # our build system doesn't handle subdir srcs very gracefully today
 export::
 	mkdir -p nanojit
-- 
